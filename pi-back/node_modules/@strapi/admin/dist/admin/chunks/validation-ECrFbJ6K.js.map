{"version":3,"file":"validation-ECrFbJ6K.js","sources":["../../../admin/src/pages/Settings/pages/Users/utils/validation.ts"],"sourcesContent":["import * as yup from 'yup';\n\nimport { translatedErrors } from '../../../../../utils/translatedErrors';\n\n/**\n * @description This needs wrapping in `yup.object().shape()` before use.\n */\nconst COMMON_USER_SCHEMA = {\n  firstname: yup.string().trim().required({\n    id: translatedErrors.required.id,\n    defaultMessage: 'This field is required',\n  }),\n  lastname: yup.string().nullable(),\n  email: yup.string().email(translatedErrors.email).lowercase().required({\n    id: translatedErrors.required.id,\n    defaultMessage: 'This field is required',\n  }),\n  username: yup\n    .string()\n    .transform((value) => (value === '' ? undefined : value))\n    .nullable(),\n  password: yup\n    .string()\n    .transform((value) => (value === '' || value === null ? undefined : value))\n    .nullable()\n    .min(8, {\n      ...translatedErrors.minLength,\n      values: { min: 8 },\n    })\n    .matches(/[a-z]/, {\n      id: 'components.Input.error.contain.lowercase',\n      defaultMessage: 'Password must contain at least one lowercase character',\n    })\n    .matches(/[A-Z]/, {\n      id: 'components.Input.error.contain.uppercase',\n      defaultMessage: 'Password must contain at least one uppercase character',\n    })\n    .matches(/\\d/, {\n      id: 'components.Input.error.contain.number',\n      defaultMessage: 'Password must contain at least one number',\n    }),\n  confirmPassword: yup\n    .string()\n    .transform((value) => (value === '' ? null : value))\n    .nullable()\n    .min(8, {\n      ...translatedErrors.minLength,\n      values: { min: 8 },\n    })\n    .oneOf([yup.ref('password'), null], {\n      id: 'components.Input.error.password.noMatch',\n      defaultMessage: 'Passwords must match',\n    })\n    .when('password', (password, passSchema) => {\n      return password\n        ? passSchema\n            .required({\n              id: translatedErrors.required.id,\n              defaultMessage: 'This field is required',\n            })\n            .nullable()\n        : passSchema;\n    }),\n};\n\nexport { COMMON_USER_SCHEMA };\n"],"names":["COMMON_USER_SCHEMA","firstname","yup","string","trim","required","id","translatedErrors","defaultMessage","lastname","nullable","email","lowercase","username","transform","value","undefined","password","min","minLength","values","matches","confirmPassword","oneOf","ref","when","passSchema"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAIA;;AAEC,UACKA,kBAAqB,GAAA;AACzBC,IAAAA,SAAAA,EAAWC,eAAIC,MAAM,EAAA,CAAGC,IAAI,EAAA,CAAGC,QAAQ,CAAC;QACtCC,EAAIC,EAAAA,iBAAAA,CAAiBF,QAAQ,CAACC,EAAE;QAChCE,cAAgB,EAAA;AAClB,KAAA,CAAA;IACAC,QAAUP,EAAAA,cAAAA,CAAIC,MAAM,EAAA,CAAGO,QAAQ,EAAA;IAC/BC,KAAOT,EAAAA,cAAAA,CAAIC,MAAM,EAAA,CAAGQ,KAAK,CAACJ,iBAAiBI,CAAAA,KAAK,CAAEC,CAAAA,SAAS,EAAGP,CAAAA,QAAQ,CAAC;QACrEC,EAAIC,EAAAA,iBAAAA,CAAiBF,QAAQ,CAACC,EAAE;QAChCE,cAAgB,EAAA;AAClB,KAAA,CAAA;IACAK,QAAUX,EAAAA,cAAAA,CACPC,MAAM,EAAA,CACNW,SAAS,CAAC,CAACC,KAAAA,GAAWA,KAAU,KAAA,EAAA,GAAKC,SAAYD,GAAAA,KAAAA,CAAAA,CACjDL,QAAQ,EAAA;AACXO,IAAAA,QAAAA,EAAUf,eACPC,MAAM,EAAA,CACNW,SAAS,CAAC,CAACC,KAAWA,GAAAA,KAAAA,KAAU,EAAMA,IAAAA,KAAAA,KAAU,OAAOC,SAAYD,GAAAA,KAAAA,CAAAA,CACnEL,QAAQ,EACRQ,CAAAA,GAAG,CAAC,CAAG,EAAA;AACN,QAAA,GAAGX,kBAAiBY,SAAS;QAC7BC,MAAQ,EAAA;YAAEF,GAAK,EAAA;AAAE;KAElBG,CAAAA,CAAAA,OAAO,CAAC,OAAS,EAAA;QAChBf,EAAI,EAAA,0CAAA;QACJE,cAAgB,EAAA;KAEjBa,CAAAA,CAAAA,OAAO,CAAC,OAAS,EAAA;QAChBf,EAAI,EAAA,0CAAA;QACJE,cAAgB,EAAA;KAEjBa,CAAAA,CAAAA,OAAO,CAAC,IAAM,EAAA;QACbf,EAAI,EAAA,uCAAA;QACJE,cAAgB,EAAA;AAClB,KAAA,CAAA;AACFc,IAAAA,eAAAA,EAAiBpB,cACdC,CAAAA,MAAM,EACNW,CAAAA,SAAS,CAAC,CAACC,KAAAA,GAAWA,KAAU,KAAA,EAAA,GAAK,OAAOA,KAC5CL,CAAAA,CAAAA,QAAQ,EACRQ,CAAAA,GAAG,CAAC,CAAG,EAAA;AACN,QAAA,GAAGX,kBAAiBY,SAAS;QAC7BC,MAAQ,EAAA;YAAEF,GAAK,EAAA;AAAE;AACnB,KAAA,CAAA,CACCK,KAAK,CAAC;AAACrB,QAAAA,cAAAA,CAAIsB,GAAG,CAAC,UAAA,CAAA;AAAa,QAAA;KAAK,EAAE;QAClClB,EAAI,EAAA,yCAAA;QACJE,cAAgB,EAAA;AAClB,KAAA,CAAA,CACCiB,IAAI,CAAC,UAAY,EAAA,CAACR,QAAUS,EAAAA,UAAAA,GAAAA;QAC3B,OAAOT,QAAAA,GACHS,UACGrB,CAAAA,QAAQ,CAAC;YACRC,EAAIC,EAAAA,iBAAAA,CAAiBF,QAAQ,CAACC,EAAE;YAChCE,cAAgB,EAAA;AAClB,SAAA,CAAA,CACCE,QAAQ,EACXgB,GAAAA,UAAAA;AACN,KAAA;AACJ;;;;"}